server {
    listen 80;
    listen [::]:80;
    server_name localhost;

    # Редирект всех HTTP запросов на HTTPS
    return 301 https://$server_name$request_uri;
}

server{
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name localhost;

    add_header 'Cross-Origin-Opener-Policy' 'same-origin';
    add_header 'Cross-Origin-Embedder-Policy' 'require-corp';


    # location /api/v1/{
    #     proxy_pass http://backend:8000/;
    # }

    # Настройки SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;
    ssl_prefer_server_ciphers off;

   location /{
       root /home/app/frontend/;
       index  index.html index.htm;

        location /tetris{
            alias /home/app/tetris/;
            index tetris.html tetris.htm;
        } 
   }
}